# Dataset


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

------------------------------------------------------------------------

<a
href="https://github.com/explodinggradients/ragas_experimental/blob/main/ragas_experimental/dataset.py#L24"
target="_blank" style="float:right; font-size:smaller">source</a>

### Dataset

>  Dataset (name:str, model:Type[ragas_experimental.model.pydantic_model.Ext
>               endedPydanticBaseModel], project_id:str, dataset_id:str, ragas_a
>               pi_client:ragas_experimental.backends.ragas_api_client.RagasApiC
>               lient)

\*A list-like interface for managing dataset entries with backend
synchronization.

This class behaves like a Python list while synchronizing operations
with the Ragas backend API.\*

``` python
# test model
class TestModel(BaseModel):
    id: int
    name: str
    description: str
    tags: t.Literal["tag1", "tag2", "tag3"]
    result: MetricResult
```

``` python
TestModel.__column_mapping__ = {}
```

``` python
test_model = TestModel(
    id=0, 
    name="test", 
    description="test description", 
    result=MetricResult(result=0.5, reason="test reason"), 
    tags="tag1"
)
test_model
```

    TestModel(id=0, name='test', description='test description', tags='tag1', result=0.5)

``` python
test_model.__column_mapping__
```

    {'id': 'id',
     'name': 'name',
     'description': 'description',
     'tags': 'tags',
     'result': 'result',
     'result_reason': 'result_reason'}

``` python
import os
from ragas_experimental import Project
```

``` python
RAGAS_APP_TOKEN = "api_key"
RAGAS_API_BASE_URL = "https://api.dev.app.ragas.io"

os.environ["RAGAS_APP_TOKEN"] = RAGAS_APP_TOKEN
os.environ["RAGAS_API_BASE_URL"] = RAGAS_API_BASE_URL
```

``` python
ragas_api_client = RagasApiClientFactory.create()
```

``` python
p = Project(project_id="3d9b529b-c23f-4e87-8a26-dd1923749aa7", ragas_api_client=ragas_api_client)
test_dataset = p.create_dataset(name="TestModel_with_long_text", model=TestModel)
test_dataset
```

    Dataset(name=TestModel_with_long_text, model=TestModel, len=0)

``` python
# https://dev.app.ragas.io/dashboard/projects/0a7c4ecb-b313-4bb0-81c0-852c9634ce03/datasets/a4f0d169-ebce-4a2b-b758-0ff49c0c4312
TEST_PROJECT_ID = p.project_id
TEST_DATASET_ID = test_dataset.dataset_id
test_project = await ragas_api_client.get_project(project_id=TEST_PROJECT_ID)
test_dataset = await ragas_api_client.get_dataset(project_id=TEST_PROJECT_ID, dataset_id=TEST_DATASET_ID)
test_dataset
```

    {'id': 'aa1fb420-4820-45a6-9502-6cfb7938b7a3',
     'name': 'TestModel_with_long_text',
     'description': None,
     'created_at': '2025-04-16T18:54:04.355883+00:00',
     'updated_at': '2025-04-16T18:54:04.355883+00:00',
     'version_counter': 0,
     'project_id': '3d9b529b-c23f-4e87-8a26-dd1923749aa7'}

``` python
dataset = Dataset(
    name="TestModel", model=TestModel, project_id=TEST_PROJECT_ID, dataset_id=TEST_DATASET_ID, ragas_api_client=ragas_api_client
)
```

------------------------------------------------------------------------

<a
href="https://github.com/explodinggradients/ragas_experimental/blob/main/ragas_experimental/dataset.py#L116"
target="_blank" style="float:right; font-size:smaller">source</a>

### Dataset.append

>  Dataset.append (entry:~BaseModelType)

*Add a new entry to the dataset and sync to Notion.*

``` python
dataset.append(test_model)
len(dataset)
```

    1

------------------------------------------------------------------------

<a
href="https://github.com/explodinggradients/ragas_experimental/blob/main/ragas_experimental/dataset.py#L145"
target="_blank" style="float:right; font-size:smaller">source</a>

### Dataset.pop

>  Dataset.pop (index:int=-1)

*Remove and return entry at index, sync deletion to Notion.*

``` python
dataset.pop()
len(dataset)
```

    0

``` python
# now add some more entries
for i in range(10):
    dataset.append(test_model)
len(dataset)
```

    10

------------------------------------------------------------------------

<a
href="https://github.com/explodinggradients/ragas_experimental/blob/main/ragas_experimental/dataset.py#L164"
target="_blank" style="float:right; font-size:smaller">source</a>

### Dataset.load

>  Dataset.load ()

*Load all entries from the backend API.*

``` python
dataset.load()
```

------------------------------------------------------------------------

<a
href="https://github.com/explodinggradients/ragas_experimental/blob/main/ragas_experimental/dataset.py#L197"
target="_blank" style="float:right; font-size:smaller">source</a>

### Dataset.load_as_dicts

>  Dataset.load_as_dicts ()

*Load all entries as dictionaries.*

``` python
dataset.load_as_dicts()
```

    [{'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0}]

------------------------------------------------------------------------

<a
href="https://github.com/explodinggradients/ragas_experimental/blob/main/ragas_experimental/dataset.py#L220"
target="_blank" style="float:right; font-size:smaller">source</a>

### Dataset.to_pandas

>  Dataset.to_pandas ()

*Convert dataset to pandas DataFrame.*

``` python
dataset.to_pandas()
```

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&#10;    .dataframe tbody tr th {
        vertical-align: top;
    }
&#10;    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">id</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">result</th>
</tr>
</thead>
<tbody>
<tr>
<td data-quarto-table-cell-role="th">0</td>
<td>0</td>
<td>test</td>
<td>test description</td>
<td>0.5</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">1</td>
<td>0</td>
<td>test</td>
<td>test description</td>
<td>0.5</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">2</td>
<td>0</td>
<td>test</td>
<td>test description</td>
<td>0.5</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">3</td>
<td>0</td>
<td>test</td>
<td>test description</td>
<td>0.5</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">4</td>
<td>0</td>
<td>test</td>
<td>test description</td>
<td>0.5</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">5</td>
<td>0</td>
<td>test</td>
<td>test description</td>
<td>0.5</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">6</td>
<td>0</td>
<td>test</td>
<td>test description</td>
<td>0.5</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">7</td>
<td>0</td>
<td>test</td>
<td>test description</td>
<td>0.5</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">8</td>
<td>0</td>
<td>test</td>
<td>test description</td>
<td>0.5</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">9</td>
<td>0</td>
<td>test</td>
<td>test description</td>
<td>0.5</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">10</td>
<td>0</td>
<td>test</td>
<td>test description</td>
<td>0.5</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">11</td>
<td>0</td>
<td>test</td>
<td>test description</td>
<td>0.5</td>
</tr>
</tbody>
</table>

</div>

------------------------------------------------------------------------

<a
href="https://github.com/explodinggradients/ragas_experimental/blob/main/ragas_experimental/dataset.py#L233"
target="_blank" style="float:right; font-size:smaller">source</a>

### Dataset.save

>  Dataset.save (item:~BaseModelType)

*Save changes to an item to the backend.*

``` python
d = dataset[0]
d
```

    TestModel(id=0, name='updated name', description='test description', result=0.5)

``` python
d.name = "updated name"
dataset.save(d)
dataset[0].name
```

    'updated name'

``` python
dataset.load_as_dicts()
```

    [{'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'test',
      'id': 0},
     {'description': 'test description',
      'result': 0.5,
      'result_reason': 'test reason',
      'name': 'updated name',
      'id': 0}]

------------------------------------------------------------------------

<a
href="https://github.com/explodinggradients/ragas_experimental/blob/main/ragas_experimental/dataset.py#L283"
target="_blank" style="float:right; font-size:smaller">source</a>

### Dataset.get

>  Dataset.get (field_value:str, field_name:str='_row_id')

\*Get an entry by field value.

Args: id_value: The value to match field_name: The field to match
against (default: “id”)

Returns: The matching model instance or None if not found\*

``` python
d._row_id
```

    'eVpgxsmPGwa8'

``` python
test_model = dataset.get(d._row_id)
test_model
```

    TestModel(id=0, name='updated name', description='test description', result=0.5)
